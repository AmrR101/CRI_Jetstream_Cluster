Use some Roles
 - Submit nodes, and compute nodes - allows for scaling if necessary

Before running this playbook:
 - make sure the VM's are configured via Heat
 - make sure the network is set up to allow ssh to the control host
 - edit ssh.cfg to point to the correct headnode ip!!!
 -- something funny here... didn't work until I *tried* and failed 
    to ssh into compute node from the head node...
 - after running heat configs, the trqauthd and pbs_server services don't
   work correctly with systemctl start - while already running, systemctl 
  reports a failure...

TODO:
 - test on Jetstream!
 -- fixed hostname issues w/ trqauthd (hopefully)
 -- playbook *almost* runs, except for sudo can't access qterm
 -- add /usr/local/sbin to sudo path!
 -- then run playbook,  see if it works. If it does, either add keys, or try again from scratch.
 -- add nfs mounts to compute nodes...

Directory Layout:

Jetstream_Cluster/
 #config files for ansible itself
 ssh.cfg
 ansible.cfg 

 submit_nodes #inventory of submit nodes 192.168.56.101
 compute_nodes #inventory of compute nodes 192.168.56.103,104
 cluster.yml # master playbook
 compute_nodes.yml # compute node playbook
 submit_nodes.yml #submit node playbook

 group_vars/
  submit
  compute

 roles/
  common/
   tasks/
    grid_user.yml
    mpi.yml
    xnit.yml
    ssh_key.yml #for grid_user
   handlers/ #will I need any of these?
   templates/ #duh
   files/ # for use with copy/script
   vars/ # optional; contains defaults
   meta/ # role dependencies!
  torque_server/
  torque_client/
  maui_master/
  nfs_server/
  nfs_client/
  ntp_server/
  ganglia_master/
  ganglia_client/
  dhcp_server/
  dns_server/
  ssh_bastion/
  

cluster.yml: 
---
 - include submit_nodes.yml
 - include compute_nodes.yml

submit_nodes.yml:
---
- hosts: submit_nodes
  roles:
    - torque_server
    - Maui_master
    - nfs_server
    - ntp_server
    - grid_user
    - ssh_gen_grid_user 
    - ssh_bastion
    - mpi
    - xnit
    - ganglia_master
    - XMonDServer? - someday
    - dhcp
    - dns

compute_nodes.yml:
---
- hosts: compute_nodes
  roles:
    - torque_client
    - nfs_client
    - ganglia_client
    - ntp_client
    - common

plays in common
 - grid_user
 - xnit
 - mpi
 - firewall
 - ssh
